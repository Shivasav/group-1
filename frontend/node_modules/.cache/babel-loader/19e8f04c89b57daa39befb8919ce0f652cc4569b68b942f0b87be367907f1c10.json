{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst sanitizePrice = price => {\n  return typeof price === \"string\" ? parseFloat(price) : price;\n};\nconst initialState = {\n  cartItems: [],\n  total: 0\n};\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      const sanitizedPrice = sanitizePrice(action.payload.price);\n      const itemIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      if (itemIndex >= 0) {\n        state.cartItems[itemIndex].quantity += 1;\n      } else {\n        state.cartItems.push({\n          ...action.payload,\n          price: sanitizedPrice,\n          quantity: 1\n        });\n      }\n      state.total = state.cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\n    },\n    incrementQuantity: (state, action) => {\n      const item = state.cartItems.find(item => item.id === action.payload);\n      if (item) {\n        item.quantity += 1;\n      }\n      state.total = state.cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\n    },\n    decrementQuantity: (state, action) => {\n      const item = state.cartItems.find(item => item.id === action.payload);\n      if (item && item.quantity > 1) {\n        item.quantity -= 1;\n      }\n      state.total = state.cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\n    },\n    removeItem: (state, action) => {\n      state.cartItems = state.cartItems.filter(item => item.id !== action.payload);\n      state.total = state.cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\n    },\n    // Add the clearCart reducer\n    clearCart: state => {\n      state.cartItems = [];\n      state.total = 0;\n    }\n  }\n});\nexport const {\n  addToCart,\n  incrementQuantity,\n  decrementQuantity,\n  removeItem,\n  clearCart // Don't forget to export the new action\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","sanitizePrice","price","parseFloat","initialState","cartItems","total","cartSlice","name","reducers","addToCart","state","action","sanitizedPrice","payload","itemIndex","findIndex","item","id","quantity","push","reduce","incrementQuantity","find","decrementQuantity","removeItem","filter","clearCart","actions","reducer"],"sources":["/Users/shivasav/Desktop/Group1Capstone/Group1_Ecommerce/frontend/src/redux/reducers/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst sanitizePrice = (price) => {\n  return typeof price === \"string\" ? parseFloat(price) : price;\n};\n\nconst initialState = {\n  cartItems: [],\n  total: 0,\n};\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      const sanitizedPrice = sanitizePrice(action.payload.price);\n\n      const itemIndex = state.cartItems.findIndex(\n        (item) => item.id === action.payload.id\n      );\n\n      if (itemIndex >= 0) {\n        state.cartItems[itemIndex].quantity += 1;\n      } else {\n        state.cartItems.push({\n          ...action.payload,\n          price: sanitizedPrice,\n          quantity: 1,\n        });\n      }\n\n      state.total = state.cartItems.reduce(\n        (total, item) => total + item.price * item.quantity,\n        0\n      );\n    },\n\n    incrementQuantity: (state, action) => {\n      const item = state.cartItems.find((item) => item.id === action.payload);\n      if (item) {\n        item.quantity += 1;\n      }\n\n      state.total = state.cartItems.reduce(\n        (total, item) => total + item.price * item.quantity,\n        0\n      );\n    },\n\n    decrementQuantity: (state, action) => {\n      const item = state.cartItems.find((item) => item.id === action.payload);\n      if (item && item.quantity > 1) {\n        item.quantity -= 1;\n      }\n\n      state.total = state.cartItems.reduce(\n        (total, item) => total + item.price * item.quantity,\n        0\n      );\n    },\n\n    removeItem: (state, action) => {\n      state.cartItems = state.cartItems.filter(\n        (item) => item.id !== action.payload\n      );\n\n      state.total = state.cartItems.reduce(\n        (total, item) => total + item.price * item.quantity,\n        0\n      );\n    },\n\n    // Add the clearCart reducer\n    clearCart: (state) => {\n      state.cartItems = [];\n      state.total = 0;\n    },\n  },\n});\n\nexport const {\n  addToCart,\n  incrementQuantity,\n  decrementQuantity,\n  removeItem,\n  clearCart, // Don't forget to export the new action\n} = cartSlice.actions;\n\nexport default cartSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}